<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv='cache-control' content='no-cache'>
    <meta http-equiv='expires' content='0'>
    <meta http-equiv='pragma' content='no-cache'>
    <title>News Summary</title>


    <!-- Import -->
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    <link rel=stylesheet type=text/css href="{{ url_for('static', filename='css/main.css') }}">
    <script src="https://unpkg.com/feather-icons"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js" charset="utf-8"></script>
    <script src="{{ url_for('static', filename='js/tinymce.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/jquery-3.5.1.min.js') }}"></script>
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css"> -->
</head>

<body>
    <!-- Header -->
    <div class="flex flex-wrap">
        <div class="w-full">
            <nav class="relative flex flex-wrap items-center justify-between px-2 py-3 navbar-expand-lg bg-blue-500">
                <div class="w-full mx-auto flex flex-wrap items-center justify-between">
                    <div
                        class="w-full relative flex justify-between lg:w-auto px-4 lg:static lg:block lg:justify-start">
                        <a class="text-sm font-bold leading-relaxed inline-block mr-4 py-2 whitespace-no-wrap uppercase text-white font-medium active"
                            href="{{ url_for('home') }}">
                            Home
                        </a>
                        <a class="text-sm font-bold leading-relaxed inline-block mr-4 py-2 whitespace-no-wrap uppercase text-white font-medium"
                            href="{{ '/daily_news' }}">
                            Daily News
                        </a>
                        <a class="text-sm font-bold leading-relaxed inline-block mr-4 py-2 whitespace-no-wrap uppercase text-white font-medium"
                            href="{{ '/morning_brief' }}">
                            Morning Brief
                        </a>
                    </div>

                    <div class="flex flex-wrap justify-end">
                        <div class="w-full px-6">
                            <div class="relative inline-flex align-middle w-full">
                                <button class="w-48 focus:outline-none" style="transition:all .15s ease" type="button"
                                    onclick="openDropdown(event, 'dropdown-id-settings')">
                                    <img class="h-8 w-8 rounded-full object-cover m-auto" src="static/images/avatar.png"
                                        alt="" />
                                    <p class="text-xs" style="color: white;">{{ username_login }}</p>
                                </button>
                                <div class="hidden bg-white  text-base z-50 float-left py-2 list-none text-left rounded shadow-lg mt-1"
                                    style="min-width:12rem" id="dropdown-id-settings">
                                    <a href="/vn_30"
                                        class="text-sm py-2 px-4 font-normal block w-full whitespace-no-wrap bg-transparent text-gray-800">
                                        Settings
                                    </a>
                                    <a href="/logout"
                                        class="text-sm py-2 px-4 font-normal block w-full whitespace-no-wrap bg-transparent text-gray-800">
                                        Logout
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </nav>
        </div>
    </div>


    <!-- Content -->
    <div class="w-full px-6 m-auto">
        <main class="antialiased pt-3">
            <form action="/export_word" method="POST">
                <button type="submit" value="submit" id="export_submit"
                    class="flex items-center float-right mb-2 bg-gray-100 justify-center h-12 rounded px-4 text-blue-700">
                    <a class="text-xs font-medium mr-2 cursor-pointer">Export</a>
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-download" fill="currentColor"
                        xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                            d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z" />
                        <path fill-rule="evenodd"
                            d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z" />
                    </svg>
                </button>
            </form>
            <h2 class="text-blue-500" style="font-size: x-large; font-weight: bold;">A. DAILY NEWS:</h2>
            <div class="bg-white w-full rounded py-2 px-4 shadow-xs scroll mb-8">
                {% for k, v in top_daily_news.items() %}
                <div class="border-b border-gray-200 mb-3">
                    <h3 class="font-medium">
                        {{ k }} :
                        <a class="text-blue-500" href="{{ v['source_url'] }}" target="_blank">{{
                            v['title'] }}</a>
                    </h3>
                    <p class="text-md px-5 py-2  bg-gray-100" style="text-align:justify">{{ v['text_rank'] | safe }}</p>
                    <p class="text-md px-5 bg-gray-100 text-gray-500" style="text-align:justify"> &#60; Nguồn:
                        <a class="text-gray-500 italic">
                            {{ v['site'] }}
                        </a>
                        &#62;
                    </p>
                </div>
                {% endfor %}
            </div>

            <h2 class="text-blue-500" style="font-size: x-large; font-weight: bold;">B. MORNING BRIEF:</h2>
            <div class="bg-white w-full rounded py-2 px-4 shadow-xs scroll mb-24">
                {% for k, v in top_morning_news.items() %}
                <div class="border-b border-gray-200 mb-3">
                    <h3 class="font-medium">
                        {{ k }} :
                        <a class="text-blue-500" href="{{ v['source_url'] }}" target="_blank">{{
                            v['title'] }}</a>
                    </h3>
                    <p class="text-md px-5  bg-gray-100" style="text-align:justify">{{ v['text_rank'] | safe }}</p>
                    <p class="text-md px-5 bg-gray-100 text-gray-500" style="text-align:justify"> &#60; Nguồn:
                        <a class="text-gray-500 italic">
                            {{ v['site'] }}
                        </a>
                        &#62;
                    </p>
                </div>
                {% endfor %}
            </div>
            <h2 class="text-blue-500" style="font-size: x-large; font-weight: bold;">C. SIX NEWS:</h2>
            <div class="bg-white w-full rounded py-2 px-4 shadow-xs scroll mb-24">
                {% for k, v in six_news.items() %}
                <div class="border-b border-gray-200 mb-3">
                    <h3 class="font-medium">
                        {{ k }} :
                        <a class="text-blue-500" href="{{ v['source_url'] }}" target="_blank">{{
                            v['title'] }}</a>
                    </h3>
                    <p class="text-md px-5  bg-gray-100" style="text-align:justify">{{ v['brief_content'] | safe }}</p>
                    <p class="text-md px-5 bg-gray-100 text-gray-500" style="text-align:justify"> &#60; Nguồn:
                        <a class="text-gray-500 italic">
                            {{ v['site'] }}
                        </a>
                        &#62;
                    </p>
                </div>
                {% endfor %}
            </div>
        </main>
    </div>

    <!-- Modal -->
    <div class="hidden overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none justify-center items-center"
        id="modal-id">
        <div class="relative w-7/12 my-6 mx-auto max-w-3xl">
            <!--content-->
            <div
                class="border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none">
                <!--header-->
                <div class="flex items-start justify-between p-5 border-b border-solid border-gray-300 rounded-t">
                    <h3 class="text-2xl font-semibold">
                        EDIT
                    </h3>
                </div>
                <!--body-->
                <form action="" method="">
                    <div class="relative p-6 flex-auto">
                        <div class="mb-3 pt-0">
                            <input type="text" placeholder="Title"
                                class="px-3 py-3 placeholder-gray-400 text-gray-700 relative bg-white bg-white rounded text-sm border border-gray-400 outline-none focus:outline-none focus:shadow-outline w-full" />
                        </div>

                        <div class="mb-3 pt-0">
                            <textarea
                                class="px-3 py-3 placeholder-gray-400 text-gray-700 relative bg-white bg-white rounded text-sm border border-gray-400 outline-none focus:outline-none focus:shadow-outline w-full"
                                name="" id="editor" cols="30" rows="10">Content</textarea>
                        </div>
                    </div>
                    <!--footer-->
                    <div class="flex items-center justify-end p-6 border-t border-solid border-gray-300 rounded-b">
                        <button type="button"
                            class="text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1"
                            type="button" style="transition: all .15s ease" onclick="toggleModal('modal-id')">
                            Close
                        </button>
                        <button type="submit"
                            class="bg-green-500 text-white active:bg-green-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1"
                            type="button" style="transition: all .15s ease">
                            Save Changes
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="hidden opacity-25 fixed inset-0 z-40 bg-black" id="modal-id-backdrop"></div>

    <script>
        feather.replace();
        tinymce.init({
            selector: '#editor',
        });

        /* Dropdown*/
        function openDropdown(event, dropdownID) {
            let element = event.target;
            while (element.nodeName !== "BUTTON") {
                element = element.parentNode;
            }
            var popper = new Popper(element, document.getElementById(dropdownID), {
                placement: 'bottom-start'
            });
            document.getElementById(dropdownID).classList.toggle("hidden");
            document.getElementById(dropdownID).classList.toggle("block");
        }
        //   Modal
        function toggleModal(modalID) {
            document.getElementById(modalID).classList.toggle("hidden");
            document.getElementById(modalID + "-backdrop").classList.toggle("hidden");
            document.getElementById(modalID).classList.toggle("flex");
            document.getElementById(modalID + "-backdrop").classList.toggle("flex");
        }

        function hideModal(modalId) {
            document.getElementById(modalID).classList.toggle("hidden");
        }



    </script>
</body>

</html>